# ------------------------------------------------------------
# Server
# ------------------------------------------------------------
server.port=${SERVER_PORT:8081}

# ------------------------------------------------------------
# DataSource (PostgreSQL) + Hikari
# ------------------------------------------------------------
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/ControlService}
spring.datasource.username=${DB_USER:postgres}
spring.datasource.password=${DB_PASS:postgres}
spring.datasource.driverClassName=${DB_DRIVER:org.postgresql.Driver}

spring.datasource.hikari.maximumPoolSize=${DB_POOL_MAX:20}
spring.datasource.hikari.minimumIdle=${DB_POOL_MIN_IDLE:5}
spring.datasource.hikari.idleTimeout=${DB_POOL_IDLE_TIMEOUT:600000}
spring.datasource.hikari.maxLifetime=${DB_POOL_MAX_LIFETIME:1800000}
spring.datasource.hikari.connectionTimeout=${DB_POOL_CONNECTION_TIMEOUT:30000}
spring.datasource.hikari.connectionTestQuery=${DB_POOL_TEST_QUERY:SELECT 1}
spring.datasource.hikari.validationTimeout=${DB_POOL_VALIDATION_TIMEOUT:5000}
spring.datasource.hikari.keepaliveTime=${DB_POOL_KEEPALIVE_TIME:300000}

spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL:false}

# ------------------------------------------------------------
# Flyway
# ------------------------------------------------------------
spring.flyway.enabled=${FLYWAY_ENABLED:true}
spring.flyway.locations=${FLYWAY_LOCATIONS:classpath:db/migration}

# ------------------------------------------------------------
# Error
# ------------------------------------------------------------
server.error.include-stacktrace=${ERROR_STACKTRACE:never}

# ------------------------------------------------------------
# JWT
# ------------------------------------------------------------
controlService.security.token.secret=${JWT_SECRET:changeme123}

spring.config.import=optional:file:.env[.properties]
